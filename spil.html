<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<title>Super Mega Hub - Spil & Apps</title>
<style>
body { font-family: Arial; text-align: center; margin: 20px; background: #f0f0f0; transition: background 0.5s;}
h1 { color: #333; }
select, button { padding: 10px 20px; margin: 10px; font-size: 16px; cursor: pointer; }
button:hover { background: #ffcc00; }
#output { margin-top: 20px; min-height: 300px; border: 2px solid #ccc; padding: 20px; background: #fff; border-radius: 10px; position: relative; overflow: hidden;}
.confetti { position: absolute; width: 10px; height: 10px; background: red; animation: fall 2s linear forwards; }
@keyframes fall { 0% {transform: translateY(0);} 100% {transform: translateY(500px);} }
</style>
</head>
<body>

<h1>Super Mega Hub - Spil & Apps</h1>

<label for="category">V√¶lg kategori:</label>
<select id="category" onchange="loadSelection()">
    <option value="spil">Spil (100+)</option>
    <option value="apps">Apps (100+)</option>
</select>

<label for="selection">V√¶lg spil/app:</label>
<select id="selection"></select>

<div id="output"></div>

<button onclick="startApp()">Start / Reset</button>

<script>
// ================= Modular Structure =================

// Example subset of 10 games (add 90+ more in same structure)
const spil = {
    "Terningkast": function(){ 
        const dice = Math.floor(Math.random()*6)+1;
        document.getElementById("output").textContent = `üé≤ Du slog: ${dice}`;
        launchConfetti();
    },
    "M√∏ntkast": function(){ 
        const flip = Math.random() < 0.5 ? "Plat" : "Krone";
        document.getElementById("output").textContent = `ü™ô ${flip}`;
        launchConfetti();
    },
    "TicTacToe": function(){ 
        document.getElementById("output").textContent = "Tic-Tac-Toe starter her...";
    },
    "Memory": function(){
        document.getElementById("output").textContent = "Memory spil starter...";
    },
    "Emoji Generator": function(){
        const emojis = ["üòÄ","üòÇ","üòé","ü§©","ü•≥","üòá","ü§Ø"];
        let e = "";
        for(let i=0;i<10;i++) e += emojis[Math.floor(Math.random()*emojis.length)]+" ";
        document.getElementById("output").textContent = `Dine emojis: ${e}`;
    },
    "Click Speed Test": function(){
        let count = 0;
        document.getElementById("output").innerHTML = "Klik hurtigst muligt i 5 sekunder!<br><button id='clickBtn'>Klik her!</button>";
        const btn = document.getElementById("clickBtn");
        const start = Date.now();
        btn.onclick = function(){
            count++;
            if(Date.now()-start>5000){
                btn.disabled = true;
                document.getElementById("output").textContent = `Tid slut! Du klikkede ${count} gange.`;
            }
        }
    },
    "Ballon Pop": function(){
        document.getElementById("output").textContent = "Ballon Pop spil starter...";
    },
    "Word Scramble": function(){
        document.getElementById("output").textContent = "Word Scramble starter...";
    },
    "Number Guess": function(){
        const num = Math.floor(Math.random()*100)+1;
        const guess = parseInt(prompt("G√¶t et tal mellem 1-100:"));
        document.getElementById("output").textContent = guess===num ? "Tillykke! Du g√¶ttede rigtigt!" : `Forkert! Det rigtige tal var ${num}`;
    },
    "Color Match": function(){
        const colors = ["r√∏d","bl√•","gr√∏n","gul","lilla"];
        const c = colors[Math.floor(Math.random()*colors.length)];
        document.getElementById("output").textContent = `Farve: ${c}`;
        document.body.style.backgroundColor = c;
    },
    // ...add 90+ more
};

// Example subset of 10 apps (add 90+ more in same structure)
const apps = {
    "Lommeregner": function(){ 
        const result = prompt("Indtast et udtryk f.eks. 2+2:");
        try { document.getElementById("output").textContent = `Resultat: ${eval(result)}`; }
        catch { document.getElementById("output").textContent = "Ugyldigt udtryk!"; }
    },
    "BMI Beregner": function(){
        const h√∏jde = parseFloat(prompt("Indtast h√∏jde i meter:"));
        const v√¶gt = parseFloat(prompt("Indtast v√¶gt i kg:"));
        const bmi = (v√¶gt / (h√∏jde*h√∏jde)).toFixed(2);
        document.getElementById("output").textContent = `Din BMI: ${bmi}`;
    },
    "Tip Beregner": function(){
        const bel√∏b = parseFloat(prompt("Indtast bel√∏b:"));
        const tip = parseFloat(prompt("Indtast tip %:"));
        const total = (bel√∏b + bel√∏b*tip/100).toFixed(2);
        document.getElementById("output").textContent = `Total bel√∏b: ${total}`;
    },
    "Enhedsconverter": function(){ document.getElementById("output").textContent="Enhedsconverter starter..."; },
    "QR Kode Generator": function(){ document.getElementById("output").textContent="QR Generator starter..."; },
    "Ord T√¶ller": function(){ document.getElementById("output").textContent="Ord T√¶ller starter..."; },
    "Noter": function(){ document.getElementById("output").textContent="Noter app starter..."; },
    "Stopur": function(){ document.getElementById("output").textContent="Stopur starter..."; },
    "Countdown Timer": function(){ document.getElementById("output").textContent="Countdown starter..."; },
    "Farvev√¶lger": function(){ document.getElementById("output").textContent="Farvev√¶lger starter..."; },
    // ...add 90+ more
};

// ================= Populate selection dropdown =================
function loadSelection(){
    const category = document.getElementById("category").value;
    const select = document.getElementById("selection");
    select.innerHTML = "";
    const items = category === "spil" ? spil : apps;
    for(let key in items){
        const opt = document.createElement("option");
        opt.value = key;
        opt.textContent = key;
        select.appendChild(opt);
    }
}

// ================= Start / Reset selected app/spil =================
function startApp(){
    const category = document.getElementById("category").value;
    const selection = document.getElementById("selection").value;
    const items = category === "spil" ? spil : apps;
    if(items[selection]) items[selection]();
    launchConfetti();
    sendHeight();
}

// ================= Confetti effect =================
function launchConfetti(){
    for(let i=0;i<20;i++){
        const confetti = document.createElement("div");
        confetti.className="confetti";
        confetti.style.background=getRandomColor();
        confetti.style.left=Math.random()*window.innerWidth+"px";
        document.body.appendChild(confetti);
        setTimeout(()=>confetti.remove(),2000);
    }
}
function getRandomColor(){
    const letters="0123456789ABCDEF";
    let color="#";
    for(let i=0;i<6;i++) color+=letters[Math.floor(Math.random()*16)];
    return color;
}

// ================= Auto-resize for iframe =================
function sendHeight(){
    const height = document.body.scrollHeight;
    if(window.parent) window.parent.postMessage(height,"*");
}

// Initialize dropdown
loadSelection();
window.onload = sendHeight;
window.onresize = sendHeight;
</script>

</body>
</html>
